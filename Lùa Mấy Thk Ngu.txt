local ScreenGui = Instance.new("ScreenGui")
local ImageButton = Instance.new("ImageButton")
local UICorner = Instance.new("UICorner")

ScreenGui.Parent = game.CoreGui
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

ImageButton.Parent = ScreenGui
ImageButton.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
ImageButton.BorderSizePixel = 0
ImageButton.Position = UDim2.new(1000.10615778, 100, 0.16217947, 0)
ImageButton.Size = UDim2.new(0, 100, 0, 40)
ImageButton.Draggable = true
ImageButton.Image = "http://www.roblox.com/asset/?id=83190276951914"

UICorner.CornerRadius = UDim.new(1, 10) 
UICorner.Parent = ImageButton

ImageButton.MouseButton1Down:Connect(function()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.End, false, game)
end)

local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
repeat wait() until game:IsLoaded()
local Window = Fluent:CreateWindow({
    Title = "TrongNguyen Trade Scam",
    SubTitle = "by Trongnguyen",
    TabWidth = 157,
    Size = UDim2.fromOffset(450, 300),
    Acrylic = true,
    Theme = "Darker",
    MinimizeKey = Enum.KeyCode.End
})
local Tabs = {
        Main=Window:AddTab({ Title="Main" }),
}


Tabs.Main:AddToggle("Toggle", {
    Title = "Trade Scam",
    Default = false 
    = _G.AutoFishing})
Fishing:OnChanged(function(Value)
    _G.AutoFishing = Value
end)

local Players2 = game:GetService("Players")
local LocalPlayer2 = Players2.LocalPlayer
local Workspace2 = game:GetService("Workspace")
local FishReplicated2 = game:GetService("ReplicatedStorage"):WaitForChild("FishReplicated")
local FishingRequest2 = FishReplicated2:WaitForChild("FishingRequest")
local Config2 = require(FishReplicated2.FishingClient.Config)
local GetWaterHeight2 = require(game:GetService("ReplicatedStorage").Util.GetWaterHeightAtLocation)
local maxdistance2 = Config2.Rod.MaxLaunchDistance

task.spawn(function()
    while task.wait(0.5) do
        if _G.AutoFishing then
            pcall(function()
                local Char = LocalPlayer2.Character or LocalPlayer2.CharacterAdded:Wait()
                local hrm = Char:FindFirstChild("HumanoidRootPart")
                local Tool = Char:FindFirstChildOfClass("Tool")
                if not (hrm and Tool) then return end

                local waterHeight = GetWaterHeight2(hrm.Position)
                local _, hitPos = Workspace2:FindPartOnRayWithIgnoreList(
                    Ray.new(Char.Head.Position, hrm.CFrame.LookVector * maxdistance2),
                    {Char, Workspace2.Characters, Workspace2.Enemies}
                )
                local pos = Vector3.new(hitPos.X, math.max(hitPos.Y, waterHeight), hitPos.Z)
                local State = Tool:GetAttribute("State")
                local ServerState = Tool:GetAttribute("ServerState")

                if State == "ReeledIn" or ServerState == "ReeledIn" then
                    FishingRequest2:InvokeServer("StartCasting")
                    task.wait()
                    FishingRequest2:InvokeServer("CastLineAtLocation", pos, 100, true)
                elseif ServerState == "Biting" then
                    FishingRequest2:InvokeServer("Catching", true)
                    task.wait(0.1)
                    FishingRequest2:InvokeServer("Catch", 1)
                end
            end)
        end
    end
end)